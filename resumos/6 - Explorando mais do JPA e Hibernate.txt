6.1. Mapeando relacionamento bidirecional com @OneToMany

Atual: 

@ManyToOne
Restaurante -> Cozinha

@OneToMany
Restaurante <-> Cozinha


Adicionando novo atributo na classe cozinha:

// Uma cozinha tem muitos restaurante
@JsonIgnore // Para envitar essa propriedade para que não entre num loop circular
@OneToMany(mappedBy="cozinha")  // Querendo saber qual nome do atributo mapeado em Restaurante
private List<Restaurante> restaurantes = new ArrayList<>();


6.2. Mapeando relacionamento muitos-para-muitos com @ManyToMany

// Muitos para Muitos 
ex: 
// Muitos Restaurantes possuem Muitas formas de pagamento

	@ManyToMany // O JoinColumns define as colunas da chave estrangeira, na tabela intermediaria,
	@JoinTable(name="restaurante_forma_pagamento",
			joinColumns = @JoinColumn(name="restaurante_id"),
			inverseJoinColumns = @JoinColumn(name="forma_pagamento_id")) // Costumizando nome da tabela do relacionamento
	private List<FormaPagamento> formasPagamento = new ArrayList<>();
	

6.3. Analisando o impacto do relacionamento muitos-para-muitos na REST API

Quando alteramos (PUT) a Entidade Restaurante, podemos perceber que 
perdemos dados da "forma_pagamento". 

-> Em RestauranteController, em atualizar(), quando
chamamos o "BeanUtilis.CopyProperties(restaurante, restauranteAtual, "id");"

teremos que incrementar mais um item:

BeanUtilis.CopyProperties(restaurante, restauranteAtual, "id", "formaPagamento");

6.4. Mapeando classes incorporáveis com @Embedded e @Embeddable

criar uma nova Classe Endereço que será compartilha em Restaurante e Pedido 

	@Embeddable
Devemos incorporar o Endereço á entidade Restaurante


@Data
@Embeddable				// classe incoporavel, ou seja, parte de alguma entidade
public class Endereco {
	
	@Column(name="endereco_cep")
	private String cep;
	
	@Column(name="endereco_logradouro")
	private String logradouro;
	
	@Column(name="endereco_numero")
	private String numero;
	
	@Column(name="endereco_complemento")
	private String complemento;
	
	@Column(name="endereco_bairro")
	private String bairro;
	
	@ManyToOne
	@JoinColumn(name="endereco_cidade_id")
	private Cidade cidade;
	
}


Agora na classe restaurante adicionamos o Atributo: endereco
-> 
@Embedded	//essa propriedade é uma classe do tipo incoporada. 
private Endereco endereco;






